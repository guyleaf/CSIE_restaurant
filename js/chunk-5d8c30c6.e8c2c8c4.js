(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d8c30c6"],{"0992":function(e,t,r){"use strict";r("4772")},"0a22":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAXtJREFUeNpi+P//PwMMHHEw+A/CDDgAujxYL8wAkMS3w7vAGJsh2OThBoAEvu7e8P+ppy4Yg9jIhuCSB+llgVvx4zsDEwsrmPlpUhODYXE5wxGGTrAhIDZIDCYPUgsDjCBTGBkZjYEmnjHIzmP4tmwmXJIrKh1Mo4tdmDqJwebABROg3rMwA0ByYEMMk9MZvm9aijUQOf2iGc7PnQnWDOSeBetFMgBhSGw8w889m1A0s7v4MZxfvBCuGRaILGiWgCUYf/5E+BfmV6AYshr0MICHtlFgEMPfCyexeoHZwJzh3Pp1IFcwwlwANwCk2djHm+HfzStwDUzqOmAaXezslq1gQ+BeAGk2cXdj+H/3JtzpjHJKDGeACkEALPfoHsQEoBoQ/wjQASBl8DBg+v2b4T8rVLOIBMOpnbtgAQZSfMbMyZHh/5sXEHmgWqzpwMLOBix44tARlNCGxQ66PCgdMCBlJmOkzGKMJQwx5FEyE0wRDs1Y5eGxQAkACDAArAsJ2PYrD9QAAAAASUVORK5CYII="},"1c8f":function(e,t,r){},"1dde":function(e,t,r){var s=r("d039"),n=r("b622"),a=r("2d00"),i=n("species");e.exports=function(e){return a>=51||!s((function(){var t=[],r=t.constructor={};return r[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"25f0":function(e,t,r){"use strict";var s=r("6eeb"),n=r("825a"),a=r("d039"),i=r("ad6d"),u="toString",o=RegExp.prototype,c=o[u],m=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=u;(m||d)&&s(RegExp.prototype,u,(function(){var e=n(this),t=String(e.source),r=e.flags,s=String(void 0===r&&e instanceof RegExp&&!("flags"in o)?i.call(e):r);return"/"+t+"/"+s}),{unsafe:!0})},4772:function(e,t,r){},"65f0":function(e,t,r){var s=r("861d"),n=r("e8b5"),a=r("b622"),i=a("species");e.exports=function(e,t){var r;return n(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?s(r)&&(r=r[i],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"80d2":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("center",[r("div",{staticClass:"container row justify-content-start"},[r("div",{staticClass:"col-11"},[r("b-card",[r("h1",{staticClass:"Header"},[e._v("顧客列表")]),r("b-nav-form",{staticClass:"ml-auto row"},[r("b-input-group",{staticClass:"mr-2",attrs:{size:"sm"}},[r("b-form-input",{attrs:{type:"search",placeholder:"會員編號,名稱,帳號,電話"}}),r("b-input-group-prepend",{attrs:{"is-text":""}},[r("b-icon",{attrs:{icon:"search"}})],1)],1),r("h4",{staticClass:"center"},[e._v("全部人數："+e._s(e.amount))])],1),r("MemberTable",{on:{deleteMember:e.deleteMember}})],1)],1)])])],1)},n=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-table",{attrs:{items:e.members,fields:e.fields,"head-variant":e.headvariant,"table-variant":e.teblevariant,striped:e.stripped,hover:e.hover,outlined:e.outlined,borderless:e.borderless},scopedSlots:e._u([{key:"cell(member_status)",fn:function(t){return[0==t.item.member_status?r("img",{attrs:{src:e.onImage},on:{click:function(r){return e.changestatus(t)}}}):r("img",{attrs:{src:e.noImage},on:{click:function(r){return e.changestatus(t)}}})]}},{key:"cell(function)",fn:function(t){return[r("img",{attrs:{src:e.deleteImage},on:{click:function(r){return e.deleteMember(t)}}})]}}])}),r("div",[r("button",{attrs:{id:"lstPg",disabled:"disabled"},on:{click:function(t){return e.routeMembers("last")}}},[e._v("上一頁")]),r("button",{attrs:{id:"nxtPg"},on:{click:function(t){return e.routeMembers("next")}}},[e._v("下一頁")])])],1)},i=[],u=(r("a434"),r("b0c0"),r("d3b7"),r("25f0"),{name:"MemberTable",data:function(){return{deleteImage:r("0a22"),noImage:r("d970"),onImage:r("9a4e"),members:[],currentNumber:0,requiredNumber:5,numOfMembers:0,fields:[{key:"id",label:"編號",class:"tdId text-center",tdClass:"tdId"},{key:"username",label:"客戶帳號",class:"tdUserName text-center",tdClass:"tdUserName"},{key:"name",label:"客戶暱稱",class:"tdName text-center",tdClass:"tdName"},{key:"email",label:"客戶信箱",class:"tdemail text-center",tdClass:"tdemail"},{key:"created_at",label:"註冊時間",class:"text-center"},{key:"phone",label:"電話號碼",class:"text-center"},{key:"member_status",label:"狀態",class:"text-center"},{key:"function",label:"操作",class:"text-center"}],headvariant:"dark",teblevariant:"",stripped:!1,hover:!0,outlined:!0,borderless:!1}},methods:{changestatus:function(e){var t=this;if(!this.members[e.index].member_status)var r="你確定要停用這位會員？";if(this.members[e.index].member_status)r="你確定要開啟這位會員？";this.$confirm(r,"","question").then((function(){var r={id:t.members[e.index].id,member_status:!t.members[e.index].member_status};t.$http.post("/admin/members/update",r,{headers:{Authorization:"Bearer "+t.$store.getters["auth/token"]}}).then((function(r){t.$alert("修改成功","","success"),t.members[e.index].member_status=!t.members[e.index].member_status})).catch((function(e){}))}))},deleteMember:function(e){var t=this;this.$confirm("你確定要刪除？","","question").then((function(){var r={id:t.members[e.index].id};t.$http.post("/admin/members/delete",r,{headers:{Authorization:"Bearer "+t.$store.getters["auth/token"]}}).then((function(r){t.$alert("刪除成功","","success"),t.members.splice(e.index,1),t.routeMembers("now"),t.$emit("deleteMember")})).catch((function(e){}))}))},routeMembers:function(e){var t=this;this.members=[],"next"==e?this.currentNumber+=this.requiredNumber:"last"==e&&(this.currentNumber-=this.requiredNumber);var r="/admin/customers?currentNumber="+this.currentNumber.toString()+"&requiredNumber="+this.requiredNumber.toString();this.$http.get(r).then((function(e){t.members=[];for(var r=e.data.customers,s=0;s<r.length;s++)t.members.push({isActive:!0,id:r[s].customer_id,username:r[s].username,name:r[s].name,email:r[s].email,created_at:r[s].created_at,phone:r[s].phone,member_status:r[s].member_status})})),this.checkRoute()},checkRoute:function(){var e=document.getElementById("lstPg"),t=document.getElementById("nxtPg"),r=this.currentNumber+this.requiredNumber;0==this.currentNumber?e.disabled=!0:e.disabled=!1,r>=this.numOfMembers?t.disabled=!0:t.disabled=!1},refresh:function(){var e=this,t="/admin/customers?currentNumber=0&requiredNumber=5";this.$axios.get(this.$url+t,{headers:{Authorization:"Bearer "+this.$store.getters["auth/token"]}}).then((function(t){e.members=[];for(var r=t.data.customers,s=0;s<r.length;s++)e.members.push({isActive:!0,id:r[s].customer_id,username:r[s].username,name:r[s].name,email:r[s].email,created_at:r[s].created_at,phone:r[s].phone,member_status:r[s].member_status});e.numOfMembers=t.data.numbers,e.$bus.$emit("setNumOfMembers",e.numOfMembers)}))}},mounted:function(){this.refresh()}}),o=u,c=(r("0992"),r("2877")),m=Object(c["a"])(o,a,i,!1,null,"e931eda8",null),d=m.exports,l={name:"Member",components:{MemberTable:d},data:function(){return{amount:0}},methods:{deleteMember:function(){this.amount-=1}},created:function(){var e=this;this.$bus.$on("setNumOfMembers",(function(t){e.amount=t}))}},A=l,b=(r("c6dd"),Object(c["a"])(A,s,n,!1,null,null,null));t["default"]=b.exports},8418:function(e,t,r){"use strict";var s=r("c04e"),n=r("9bf2"),a=r("5c6c");e.exports=function(e,t,r){var i=s(t);i in e?n.f(e,i,a(0,r)):e[i]=r}},"9a4e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGwSURBVHjapFO5igJBEK2R8cCbEQ9MDQSz+QGNNDJdEDYev2EjA6P9hjVeEDY10sgvEAwEMREEUTzwwgOvrVer7gTiwtpQdE33e6/rdfUo5/OZnhkKBNJfafNagiPHkeXQL2sNjgpHmaN1BdZeaqQiOZ1OlMlkqFqtGlartRiNRiPhcJj8fr8AZ7OZPhwO9X6/b+z3+wJjS4z9rSD1mUJueDyej3g8ToFA4G65k8mE2u02LZfLPH+W6q91smDjeDwmLBZLMRaLkc/no8PhcDewBwyw4IArAlxWLhgMRrxeL/KHAQyw4NwEWD2raRrtdrs/BYABFhxw1UsF+mg0om63S06nk/guZLbb7eIdpPV6De8yu1wu4ZgFcA+0WCxoPB4/7LvNZiOHwyEcs0CDT9Phb7VaPRRwu91SGTg3AfZT4R7roVCIFEWRG783VFUVa4wVjrmCcq/XM7iCCPxBAI/LPLh1IrDZbIixA3BuXWD/re12W7g8EvGJMjGbc+wBAyw45jZSMpks8ZPNN5vNQafTofl8LqcikGMNe8AAe7UpT1l70/71M03fpz8Cz4xvAQYAHp8zlM5JwIsAAAAASUVORK5CYII="},a434:function(e,t,r){"use strict";var s=r("23e7"),n=r("23cb"),a=r("a691"),i=r("50c4"),u=r("7b0b"),o=r("65f0"),c=r("8418"),m=r("1dde"),d=r("ae40"),l=m("splice"),A=d("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,f=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!l||!A},{splice:function(e,t){var r,s,m,d,l,A,p=u(this),v=i(p.length),w=n(e,v),x=arguments.length;if(0===x?r=s=0:1===x?(r=0,s=v-w):(r=x-2,s=f(b(a(t),0),v-w)),v+r-s>h)throw TypeError(g);for(m=o(p,s),d=0;d<s;d++)l=w+d,l in p&&c(m,d,p[l]);if(m.length=s,r<s){for(d=w;d<v-s;d++)l=d+s,A=d+r,l in p?p[A]=p[l]:delete p[A];for(d=v;d>v-s+r;d--)delete p[d-1]}else if(r>s)for(d=v-s;d>w;d--)l=d+s-1,A=d+r-1,l in p?p[A]=p[l]:delete p[A];for(d=0;d<r;d++)p[d+w]=arguments[d+2];return p.length=v-s+r,m}})},ad6d:function(e,t,r){"use strict";var s=r("825a");e.exports=function(){var e=s(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},c6dd:function(e,t,r){"use strict";r("1c8f")},d970:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAHCSURBVHjapJO9SgNBFIXPzO5GiERRCyVVQLAQLRZ7O7HxASxtom+RwrfQNJY+gI3Y2YudhaKIYFYJUeJqzO7sj+eOcYkQUujAIdmZ75y9M3dH5XmO/wxlA/Y2hueWqW1qi/IHc5fUCXVMXRXkwRlc+c3SFHpzE9npaR2et6+q1QU1Pw/MzHyDr69+/vzs561WHcY0yDbJQv9UEO+sC1ZXlcqhs7QEPTc3stys00F6fY08DHf52CwdndsQpMYsZ8C+U6tBVypAHI+UrAkjrHjEawNMHG9jdnZBT04C/f5YWYas9XDYM0jieKs8NQV8fDBSjz/2LINLtkcPnxo2wESRbx4fETFAl8twpVS+SZVK1pOz/JRrSRgi6/VsFeIpKjCyR2OQdLvI2u2xBWiGlijrKQKi6FJ5nu8xOVFqbIDLCslaz/AZnIRB4E+z72rwXYx8u+PAmZhANwisZ7gLxy9B8GS4P4/pVoR/aTAvjGXpKQLY06v487PRur9HnwflcRsuTS47YiUBnJM1YYQVTxGQJAlWV1aa7/zC7m5unloPD+i9vUGzZSL5L3OyJoyw4iku08Wi+tNlWrvNB7fxH+NLgAEACoUJPRmHNNUAAAAASUVORK5CYII="},e8b5:function(e,t,r){var s=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==s(e)}}}]);