(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c21a66a"],{"30fb":function(t,e,a){"use strict";a("71bb")},"371d":function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var s=a("1d80"),r=a("5899"),n="["+r+"]",i=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),c=function(t){return function(e){var a=String(s(e));return 1&t&&(a=a.replace(i,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,a){var s=a("861d"),r=a("d2bb");t.exports=function(t,e,a){var n,i;return r&&"function"==typeof(n=e.constructor)&&n!==a&&s(i=n.prototype)&&i!==a.prototype&&r(t,i),t}},"71bb":function(t,e,a){},"74ae":function(t,e,a){},9352:function(t,e,a){"use strict";a("bbaf")},"9c82":function(t,e,a){"use strict";a("ccff")},a9e3:function(t,e,a){"use strict";var s=a("83ab"),r=a("da84"),n=a("94ca"),i=a("6eeb"),o=a("5135"),c=a("c6b6"),l=a("7156"),u=a("c04e"),h=a("d039"),d=a("7c73"),p=a("241c").f,f=a("06cf").f,m=a("9bf2").f,g=a("58a8").trim,b="Number",v=r[b],S=v.prototype,_=c(d(S))==b,C=function(t){var e,a,s,r,n,i,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:s=2,r=49;break;case 79:case 111:s=8,r=55;break;default:return+l}for(n=l.slice(2),i=n.length,o=0;o<i;o++)if(c=n.charCodeAt(o),c<48||c>r)return NaN;return parseInt(n,s)}return+l};if(n(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var N,w=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof w&&(_?h((function(){S.valueOf.call(a)})):c(a)!=b)?l(new v(C(e)),a,w):C(e)},x=s?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;x.length>y;y++)o(v,N=x[y])&&!o(w,N)&&m(w,N,f(v,N));w.prototype=S,S.constructor=w,i(r,b,w)}},bb51:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("Carousel",{attrs:{imgPath1:"https://picsum.photos/1024/480/?image=54",imgPath2:"https://picsum.photos/1024/480/?image=12",imgPath3:"https://picsum.photos/1024/480/?image=22"}}),a("center",[a("div",{staticClass:"container row justify-content-center cardMargin"},[a("div",{staticClass:"col-10"},[a("b-card",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-2"},[a("Checkbox",{attrs:{categories:t.categories},on:{selectChange:t.updateSelected}})],1),a("div",{staticClass:"col-10"},[t.searchMode?a("div",{staticClass:"row searchIndicator"},[a("span",{staticStyle:{"font-weight":"700",color:"#ee4d2d"}},[t._v("'"+t._s(this.keywords)+"'")]),t._v("搜尋結果 ")]):t._e(),a("div",{staticClass:"row"},[a("ShopCardGroup",{attrs:{cards:t.cards}})],1)])])])],1)])])],1)},r=[],n=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{attrs:{"border-variant":"light"}},[a("b-card-group",{staticClass:"ml-0 mr-0 card-columns",attrs:{deck:""}},t._l(t.cards,(function(e){return a("ShopCard",t._b({key:e.shopId},"ShopCard",e,!1))})),1)],1)}),i=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"15rem"},attrs:{title:t.shopName,"img-src":t.imgPath,"img-alt":"Image","img-top":"",tag:"article"}},[a("b-card-text",[t._v(t._s(t.shopDescription))]),a("b-form-rating",{staticClass:"mb-1",attrs:{id:"rating-inline",size:"sm","no-border":"",readonly:"","show-value":"",inline:"",precision:"1"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}}),a("b-button",{staticClass:"link",attrs:{variant:"light"},on:{click:t.toShop}},[t._v(" GO TO SHOP ")])],1)],1)},c=[],l=(a("a9e3"),{name:"ShopCard",props:{shopId:Number,shopTag:String,shopName:String,imgPath:String,shopDescription:String,rating:Number},methods:{toShop:function(){this.$router.push({name:"Shop",params:{id:this.shopId,shopName:this.shopName}}),this.$store.dispatch("auth/cleanSearchResult")}}}),u=l,h=(a("9352"),a("2877")),d=Object(h["a"])(u,o,c,!1,null,null,null),p=d.exports,f={name:"ShopCardGroup",props:{cards:Array},components:{ShopCard:p},data:function(){return{}},watch:{},methods:{},created:function(){}},m=f,g=(a("fe0c"),Object(h["a"])(m,n,i,!1,null,null,null)),b=g.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container style1"},[a("div",{staticClass:"row "},[t._m(0),a("div",{staticClass:"col-md-7 carouselStyle",staticStyle:{}},[a("b-carousel",{staticStyle:{"text-shadow":"0px 0px 2px #000"},attrs:{id:"carousel-fade",fade:"",indicators:"","img-width":"1024","img-height":"480"}},[a("b-carousel-slide",{attrs:{caption:"First slide","img-src":t.imgPath1}}),a("b-carousel-slide",{attrs:{caption:"Second Slide","img-src":t.imgPath2}}),a("b-carousel-slide",{attrs:{caption:"Third Slide","img-src":t.imgPath3}})],1)],1)])])},S=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-5 flex"},[a("h1",[t._v("渴望享受美食嗎？立即訂餐。")]),a("p",[t._v("搜尋最愛的餐廳、料理或餐點。")])])}],_={name:"Carousel",props:{shopName:String,imgPath1:String,imgPath2:String,imgPath3:String,shopDescription:String}},C=_,N=(a("9c82"),Object(h["a"])(C,v,S,!1,null,"ef775d66",null)),w=N.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-form-group",{attrs:{label:"商店種類","label-class":"checkboxHeader"}},[a("div",{staticClass:"checkboxMenu row mt-1"},t._l(t.categories,(function(e){return a("b-form-checkbox",{key:e.category_id,staticClass:"mb-1 checkbox",attrs:{value:e.category_id,button:"","button-variant":"none"},on:{change:t.selecting},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[t._v(" "+t._s(e.name)+" ")])})),1)])],1)},y=[],$={name:"Checkbox",props:{categories:Array},data:function(){return{selected:[]}},mounted:function(){var t=this;this.$bus.$on("resetHome",(function(){t.selected=[]})),this.$bus.$on("reloadHome",(function(){t.selected=[]}))},watch:{},methods:{selecting:function(){this.$emit("selectChange",this.selected)}}},I=$,k=(a("30fb"),Object(h["a"])(I,x,y,!1,null,null,null)),E=k.exports,P={name:"home",components:{Carousel:w,Checkbox:E,ShopCardGroup:b},methods:{updateSelected:function(t){this.selected=t},getShops:function(){var t=this;this.$http.get("/restaurants/?currentNumber=0&requiredNumber=10").then((function(e){t.loadShops(e.data)}))},loadShops:function(t){this.cards=[];for(var e=0;e<t.length;e++)this.cards.push({shopId:t[e].seller_id,shopName:t[e].name,imgPath:this.$url+t[e].header_image,rating:parseFloat(t[e].averageofratings)})}},data:function(){return{selected:[],cards:[],categories:[],searchMode:!1,keywords:""}},watch:{selected:function(t){var e=this;this.searchMode=!1;for(var a="/restaurants/?currentNumber=0&requiredNumber=10",s=0;s<t.length;s++)a=a+"&filters[]="+t[s];this.$http.get(a).then((function(t){e.cards=[];for(var a=t.data,s=0;s<a.length;s++)e.cards.push({shopId:a[s].seller_id,shopName:a[s].name,imgPath:e.$url+a[s].header_image,rating:parseFloat(a[s].averageofratings)})}))}},created:function(){var t=this;this.getShops(),this.$store.dispatch("auth/cleanSearchResult"),this.$store.dispatch("auth/cleanKeywords"),this.$http.get("/restaurants/category").then((function(e){return t.categories=e.data})),this.$bus.$on("reloadHome",(function(e){t.searchMode=!0;var a=t.$store.getters["auth/searchResult"];t.keywords=t.$store.getters["auth/keywords"],t.loadShops(a)})),this.$bus.$on("resetHome",(function(){t.searchMode=!1,t.keywords="",t.getShops()}))},mounted:function(){}},A=P,M=(a("e5e1"),Object(h["a"])(A,s,r,!1,null,null,null));e["default"]=M.exports},bbaf:function(t,e,a){},ccff:function(t,e,a){},e5e1:function(t,e,a){"use strict";a("371d")},fe0c:function(t,e,a){"use strict";a("74ae")}}]);